!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";window.layerCake={zIndex:0},window.addEventListener("load",function(){window.layerCake.zIndex=m(),e.observe(document,{childList:!0,subtree:!0})}),window.addEventListener("beforeunload",function(){e.disconnect()});var e=new MutationObserver(function(e){var t=m(),r=!0,n=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var d=o.value,l=!0,u=!1,y=void 0;try{for(var f,c=d.addedNodes[Symbol.iterator]();!(l=(f=c.next()).done);l=!0){var s=f.value;if(!s.hasAttribute("data-layercake-layer"))return;var v=window.getComputedStyle(s);["absolute","fixed","relative"].includes(v.getPropertyValue("position"))&&"none"!==v.getPropertyValue("display")&&"hidden"!==v.getPropertyValue("visibility")&&(window.layerCake.zIndex=t+1,s.style.zIndex=window.layerCake.zIndex)}}catch(e){u=!0,y=e}finally{try{l||null==c.return||c.return()}finally{if(u)throw y}}var w=!0,p=!1,b=void 0;try{for(var x,h=d.removedNodes[Symbol.iterator]();!(w=(x=h.next()).done);w=!0){if(!x.value.hasAttribute("data-layercake-layer"))return;window.layerCake.zIndex=t}}catch(e){p=!0,b=e}finally{try{w||null==h.return||h.return()}finally{if(p)throw b}}}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}});function i(e){return!isNaN(parseFloat(e))&&isFinite(e)}function m(){var t=document.body.querySelectorAll("*"),e=Object.keys(t).map(function(e){return t[e]}),o=0;return e.forEach(function(e){var t=window.getComputedStyle(e),r=t?t.getPropertyValue("z-index"):0,n=e.style?e.style.zIndex:0;r=i(r)?parseInt(r,10):0;var a=(n=i(n)?parseInt(n,10):0)<r?r:n;o<a&&(o=a)}),o}});
