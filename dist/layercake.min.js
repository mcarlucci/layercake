!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function o(e){return!isNaN(parseFloat(e))&&isFinite(e)}function z(){var t=document.querySelectorAll("*"),e=Object.keys(t).map(function(e){return t[e]}),a=0;return e.forEach(function(e){var t=document.defaultView.getComputedStyle(e).getPropertyValue("z-index"),n=e.style.zIndex;t=o(t)?parseInt(t,10):0;var r=(n=o(n)?parseInt(n,10):0)<t?t:n;a<r&&(a=r)}),a}window.layerCake={zindex:0},window.addEventListener("load",function(){window.layerCake.zIndex=z(),e.observe(document,{childList:!0,subtree:!0})}),window.addEventListener("beforeunload",function(){e.disconnect()});var e=new MutationObserver(function(e){var t=z(),n=document.querySelectorAll("[data-layercake-layer]").length,r=!0,a=!1,o=void 0;try{for(var d,i=e[Symbol.iterator]();!(r=(d=i.next()).done);r=!0){var l=d.value,u=!0,y=!1,c=void 0;try{for(var f,w=l.addedNodes[Symbol.iterator]();!(u=(f=w.next()).done);u=!0){var s=f.value,v=document.defaultView.getComputedStyle(s);s.hasAttribute("data-layercake-layer")&&["absolute","fixed","relative"].includes(v.getPropertyValue("position"))&&"none"!==v.getPropertyValue("display")&&"hidden"!==v.getPropertyValue("visibility")&&(t>=window.layerCake.zIndex?window.layerCake.zIndex=t+1:window.layerCake.zIndex++,s.style.zIndex=window.layerCake.zIndex)}}catch(e){y=!0,c=e}finally{try{u||null==w.return||w.return()}finally{if(y)throw c}}var p=!0,x=!1,m=void 0;try{for(var b,k=l.removedNodes[Symbol.iterator]();!(p=(b=k.next()).done);p=!0){var h=b.value;document.defaultView.getComputedStyle(h);h.hasAttribute("data-layercake-layer")&&(0===n||t>=window.layerCake.zIndex?window.layerCake.zIndex=t:window.layerCake.zIndex--)}}catch(e){x=!0,m=e}finally{try{p||null==k.return||k.return()}finally{if(x)throw m}}}}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}})});
