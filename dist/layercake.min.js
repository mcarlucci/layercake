!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";function o(e){return!isNaN(parseFloat(e))&&isFinite(e)}function h(){var t=document.querySelectorAll("*"),e=Object.keys(t).map(function(e){return t[e]}),a=0;return e.forEach(function(e){var t=document.defaultView.getComputedStyle(e).getPropertyValue("z-index"),n=e.style.zIndex;t=o(t)?parseInt(t,10):0;var r=(n=o(n)?parseInt(n,10):0)<t?t:n;a<r&&(a=r)}),a}window.layerCake={zindex:0},window.addEventListener("load",function(){window.layerCake.zIndex=h(),e.observe(document,{childList:!0,subtree:!0})}),window.addEventListener("beforeunload",function(){e.disconnect()});var e=new MutationObserver(function(e){var t=h(),n=!0,r=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var d=o.value,l=!0,u=!1,y=void 0;try{for(var f,c=d.addedNodes[Symbol.iterator]();!(l=(f=c.next()).done);l=!0){var s=f.value,w=document.defaultView.getComputedStyle(s);if(!s.hasAttribute("data-layercake-layer")||"none"===w.getPropertyValue("display")||"hidden"===w.getPropertyValue("visibility"))return;t>window.layerCake.zIndex?window.layerCake.zIndex=t+1:window.layerCake.zIndex++,s.style.zIndex=window.layerCake.zIndex}}catch(e){u=!0,y=e}finally{try{l||null==c.return||c.return()}finally{if(u)throw y}}var v=!0,p=!1,x=void 0;try{for(var m,b=d.removedNodes[Symbol.iterator]();!(v=(m=b.next()).done);v=!0){if(!m.value.hasAttribute("data-layercake-layer"))return;window.layerCake.zIndex--}}catch(e){p=!0,x=e}finally{try{v||null==b.return||b.return()}finally{if(p)throw x}}}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}})});
